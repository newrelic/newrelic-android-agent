import com.android.Version

/*
 * Copyright (c) 2023. New Relic Corporation. All rights reserved.
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 *  Android library component
 */

plugins {
    id("com.android.library")
}

// Conditionally apply Kotlin plugin only for AGP < 9.0
def agpVersion = Version.ANDROID_GRADLE_PLUGIN_VERSION.tokenize('.')[0].toInteger()
if (agpVersion < 9) {
    apply plugin: 'org.jetbrains.kotlin.android'
}

if (project.applyPlugin && Boolean.valueOf(project.applyPlugin)) {
    apply plugin: 'newrelic'
}

apply from: "${rootDir}/android.gradle"

android {
    namespace "com.newrelic"

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_11
        targetCompatibility JavaVersion.VERSION_11
    }

    if(agpVersion < 9) {
        kotlinOptions {
            jvmTarget = '11'
        }
    }
    buildFeatures {
        viewBinding true
    }
}

dependencies {

}



